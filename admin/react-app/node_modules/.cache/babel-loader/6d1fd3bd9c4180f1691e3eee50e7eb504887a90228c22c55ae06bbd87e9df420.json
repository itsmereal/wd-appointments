{"ast":null,"code":"var _window$wdAppointment,_window$wdAppointment2;import axios from'axios';// Create axios instance with default config\nconst api=axios.create({baseURL:((_window$wdAppointment=window.wdAppointments)===null||_window$wdAppointment===void 0?void 0:_window$wdAppointment.apiUrl)||'/wp-json/wd-appointments/v1',headers:{'Content-Type':'application/json','X-WP-Nonce':(_window$wdAppointment2=window.wdAppointments)===null||_window$wdAppointment2===void 0?void 0:_window$wdAppointment2.nonce}});// Settings API\nexport const settingsAPI={getSettings:()=>api.get('/settings'),updateSettings:settings=>api.post('/settings',settings)};// Forms API\nexport const formsAPI={getForms:()=>api.get('/forms'),getForm:id=>api.get(`/forms/${id}`),createForm:form=>api.post('/forms',form),updateForm:(id,form)=>api.put(`/forms/${id}`,form),deleteForm:id=>api.delete(`/forms/${id}`)};// Appointments API\nexport const appointmentsAPI={getAppointments:params=>api.get('/appointments',{params}),getAppointment:id=>api.get(`/appointments/${id}`),updateAppointment:(id,appointment)=>api.put(`/appointments/${id}`,appointment),deleteAppointment:id=>api.delete(`/appointments/${id}`),sendReminder:id=>api.post(`/appointments/${id}/remind`)};// Calendar API\nexport const calendarAPI={authenticate:provider=>api.post(`/calendar/${provider}/auth`),disconnect:provider=>api.post(`/calendar/${provider}/disconnect`),getEvents:params=>api.get('/calendar/events',{params})};// Error handler middleware\napi.interceptors.response.use(response=>response.data,error=>{// Handle different types of errors\nif(error.response){var _error$response$data;// Server responded with error\nconst message=((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'An error occurred';throw new Error(message);}else if(error.request){// Request made but no response\nthrow new Error('No response from server');}else{// Request setup error\nthrow new Error('Error setting up request');}});export default api;","map":{"version":3,"names":["axios","api","create","baseURL","_window$wdAppointment","window","wdAppointments","apiUrl","headers","_window$wdAppointment2","nonce","settingsAPI","getSettings","get","updateSettings","settings","post","formsAPI","getForms","getForm","id","createForm","form","updateForm","put","deleteForm","delete","appointmentsAPI","getAppointments","params","getAppointment","updateAppointment","appointment","deleteAppointment","sendReminder","calendarAPI","authenticate","provider","disconnect","getEvents","interceptors","response","use","data","error","_error$response$data","message","Error","request"],"sources":["/Users/real/Local Sites/wdbooking/app/public/wp-content/plugins/wd-appointments/admin/react-app/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: window.wdAppointments?.apiUrl || '/wp-json/wd-appointments/v1',\n  headers: {\n    'Content-Type': 'application/json',\n    'X-WP-Nonce': window.wdAppointments?.nonce\n  }\n});\n\n// Settings API\nexport const settingsAPI = {\n  getSettings: () => api.get('/settings'),\n  updateSettings: (settings) => api.post('/settings', settings),\n};\n\n// Forms API\nexport const formsAPI = {\n  getForms: () => api.get('/forms'),\n  getForm: (id) => api.get(`/forms/${id}`),\n  createForm: (form) => api.post('/forms', form),\n  updateForm: (id, form) => api.put(`/forms/${id}`, form),\n  deleteForm: (id) => api.delete(`/forms/${id}`),\n};\n\n// Appointments API\nexport const appointmentsAPI = {\n  getAppointments: (params) => api.get('/appointments', { params }),\n  getAppointment: (id) => api.get(`/appointments/${id}`),\n  updateAppointment: (id, appointment) => api.put(`/appointments/${id}`, appointment),\n  deleteAppointment: (id) => api.delete(`/appointments/${id}`),\n  sendReminder: (id) => api.post(`/appointments/${id}/remind`),\n};\n\n// Calendar API\nexport const calendarAPI = {\n  authenticate: (provider) => api.post(`/calendar/${provider}/auth`),\n  disconnect: (provider) => api.post(`/calendar/${provider}/disconnect`),\n  getEvents: (params) => api.get('/calendar/events', { params }),\n};\n\n// Error handler middleware\napi.interceptors.response.use(\n  (response) => response.data,\n  (error) => {\n    // Handle different types of errors\n    if (error.response) {\n      // Server responded with error\n      const message = error.response.data?.message || 'An error occurred';\n      throw new Error(message);\n    } else if (error.request) {\n      // Request made but no response\n      throw new Error('No response from server');\n    } else {\n      // Request setup error\n      throw new Error('Error setting up request');\n    }\n  }\n);\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}